import{u as P,a as V,j as e,L as S,C as K,c as G,b as B,r as m,d as $,e as J,N as M,R as Y,f as A,h as q,i as Q,k as X,Q as Z,S as ee,W as te,B as re,l as oe,m as ne}from"./vendor-CU0s0R0g.js";import{aB as ae}from"./vendor-other-BEKRNCjF.js";import{g as ie,T as I,p as b}from"./sui-DheTpIsu.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&d(l)}).observe(document,{childList:!0,subtree:!0});function i(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function d(t){if(t.ep)return;t.ep=!0;const s=i(t);fetch(t.href,s)}})();function se(){const a=P(),n=V(),i=d=>n.pathname===d;return e.jsx("header",{style:{position:"sticky",top:"var(--spacing-m)",display:"flex",justifyContent:"center",padding:"0 var(--spacing-m)",zIndex:100,marginBottom:"var(--spacing-l)"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:"var(--spacing-l)",width:"auto",padding:"var(--spacing-s) var(--spacing-l)",background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",border:"1px solid rgba(255, 255, 255, 0.8)",borderRadius:"var(--radius-l)",boxShadow:"0 4px 20px 0 rgba(0, 0, 0, 0.15)"},children:[e.jsxs(S,{to:"/",style:{textDecoration:"none",display:"flex",alignItems:"center",gap:"var(--spacing-m)"},children:[e.jsx("h1",{style:{fontSize:"24px",fontWeight:"var(--font-weight-bold)",color:"var(--color-text-primary)",margin:0,fontFamily:"var(--font-family-heading)",letterSpacing:"-0.5px",whiteSpace:"nowrap"},children:"AthliFi"}),e.jsx("span",{style:{fontSize:"var(--font-size-small)",color:"var(--color-brand-primary)",fontWeight:"var(--font-weight-medium)",backgroundColor:"rgba(16, 149, 236, 0.15)",padding:"4px 10px",borderRadius:"var(--radius-s)",fontFamily:"var(--font-family-body)",whiteSpace:"nowrap"},children:"The Inner Circle"})]}),a&&e.jsxs("nav",{style:{display:"flex",gap:"var(--spacing-m)",alignItems:"center"},children:[e.jsx(S,{to:"/create",style:{textDecoration:"none",fontSize:"var(--font-size-body)",fontFamily:"var(--font-family-body)",fontWeight:i("/create")?"var(--font-weight-bold)":"var(--font-weight-medium)",color:i("/create")?"var(--color-brand-primary)":"var(--color-text-primary)",padding:"var(--spacing-xs) var(--spacing-s)",borderRadius:"var(--radius-s)",backgroundColor:i("/create")?"rgba(16, 149, 236, 0.1)":"transparent",transition:"all 0.2s"},children:"Create"}),e.jsx(S,{to:"/dashboard",style:{textDecoration:"none",fontSize:"var(--font-size-body)",fontFamily:"var(--font-family-body)",fontWeight:i("/dashboard")?"var(--font-weight-bold)":"var(--font-weight-medium)",color:i("/dashboard")?"var(--color-brand-primary)":"var(--color-text-primary)",padding:"var(--spacing-xs) var(--spacing-s)",borderRadius:"var(--radius-s)",backgroundColor:i("/dashboard")?"rgba(16, 149, 236, 0.1)":"transparent",transition:"all 0.2s"},children:"Dashboard"})]}),e.jsx(K,{})]})})}function L({children:a,variant:n="primary",loading:i=!1,disabled:d,active:t=!1,style:s,...l}){const c=()=>{switch(n){case"accent":return{backgroundColor:"var(--color-brand-primary)",color:"var(--color-background-base)",border:"var(--border-width-none) solid var(--color-brand-primary)"};case"secondary":return{backgroundColor:"transparent",color:"var(--color-text-primary)",border:"var(--border-width-xs) solid var(--color-text-primary)"};case"tab":return{background:t?"rgba(255, 255, 255, 0.9)":"transparent",border:t?"1px solid rgba(255, 255, 255, 0.9)":"1px solid transparent",color:t?"var(--color-text-primary)":"var(--color-text-muted)",fontWeight:t?"var(--font-weight-bold)":"var(--font-weight-medium)",borderRadius:"var(--radius-m)",padding:"var(--spacing-s) var(--spacing-m)",transition:"all var(--transition-base)",boxShadow:t?"0 2px 8px rgba(0, 0, 0, 0.1)":"none"};default:return{backgroundColor:"var(--color-text-primary)",color:"var(--color-background-base)",border:"var(--border-width-none) solid var(--color-text-primary)"}}};return e.jsx("button",{disabled:d||i,style:{padding:"var(--spacing-s) var(--spacing-m)",borderRadius:"var(--radius-m)",fontFamily:"var(--font-family-body)",fontSize:"var(--font-size-xs)",fontWeight:"var(--font-weight-medium)",cursor:d||i?"not-allowed":"pointer",transition:"all var(--transition-base)",opacity:d||i?.6:1,...c(),...s},...l,children:i?"Loading...":a})}function le(){const a=P();return e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"70vh",gap:"var(--spacing-xl)",padding:"var(--spacing-xl)"},children:[e.jsx("h1",{style:{fontSize:"var(--font-size-heading)",fontWeight:"var(--font-weight-bold)",fontFamily:"var(--font-family-heading)",textAlign:"center",color:"var(--color-text-primary)"},children:"Welcome to AthliFi"}),e.jsxs("p",{style:{fontSize:"18px",color:"var(--color-text-secondary)",textAlign:"center",maxWidth:"500px",fontFamily:"var(--font-family-body)",lineHeight:"1.6"},children:["The decentralized platform connecting athletes with their supporters.",a?" Ready to explore!":" Connect your wallet to get started."]}),a?e.jsxs("div",{style:{display:"flex",gap:"var(--spacing-m)",flexWrap:"wrap",justifyContent:"center"},children:[e.jsx(S,{to:"/create",children:e.jsx(L,{variant:"accent",children:"Create Profile"})}),e.jsx(S,{to:"/dashboard",children:e.jsx(L,{variant:"primary",children:"Manage Content"})})]}):e.jsx("div",{style:{padding:"var(--spacing-xl)",borderRadius:"var(--radius-m)",backgroundColor:"rgba(16, 149, 236, 0.15)",border:"var(--border-width-xs) solid var(--color-brand-primary)"},children:e.jsx("p",{style:{fontSize:"var(--font-size-body)",color:"var(--color-brand-primary)",fontWeight:"var(--font-weight-medium)",fontFamily:"var(--font-family-body)"},children:"👋 Please connect your wallet to continue"})}),e.jsxs("div",{style:{marginTop:"var(--spacing-xxl)",textAlign:"center"},children:[e.jsx("p",{style:{fontSize:"var(--font-size-small)",color:"var(--color-text-muted)",fontFamily:"var(--font-family-body)",marginBottom:"var(--spacing-s)"},children:"Explore athlete profiles:"}),e.jsxs("p",{style:{fontSize:"var(--font-size-body)",color:"var(--color-text-secondary)",fontFamily:"var(--font-family-body)"},children:["Try visiting ",e.jsx("code",{style:{padding:"2px 6px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"var(--radius-s)",fontFamily:"monospace"},children:"/usain-bolt"})," or any athlete username"]})]})]})}const ce="0x4e1cf62ae7d377c7404ac2a617598754a548a5de6a599f236a53603d5674d8b8",de="0xdd68302d461c71270f03e94c67090eaf9feac4708483edeb7eb725e5812cc34b",fe="0x8fa752d1c582b7e9c3a53a19b839de9c7f2c0dcfd12d0a390cc5340c8ed29f98",ue="0xd79195b9077bfe4eb563c38e515c81c0fb4d8ac81daf906d720dcb1f6984d15d",ge="0x39732173ecbad9ac8e4e4a1ab99072b958ac4f73fa02c83a9951a4150e1cc70d",{networkConfig:pe,useNetworkVariable:w}=G({testnet:{url:ie("testnet"),variables:{helloWorldPackageId:ce,suilinkPackageId:de,registryId:fe,listRegistryId:ue,nftRegistryId:ge}}});function me(){const a=w("suilinkPackageId"),n=w("registryId"),i=w("listRegistryId"),d=w("nftRegistryId"),t=B(),s=P(),[l,c]=m.useState(!1),[r,f]=m.useState("");return{fetchProfile:async o=>{if(!o||!s)throw new Error("Username and account are required");c(!0),f("");try{let u=null,v=[],k=[];const x=new I;x.moveCall({arguments:[x.object(n),x.pure.string(o)],target:`${a}::registry::get_about_id`});const h=await t.devInspectTransactionBlock({transactionBlock:x,sender:s.address});if(h.results&&h.results[0]&&h.results[0].returnValues){const g=h.results[0].returnValues;if(g&&g[0]){const[N]=g[0],W="0x"+Array.from(new Uint8Array(N)).map(p=>p.toString(16).padStart(2,"0")).join(""),D=await t.getObject({id:W,options:{showContent:!0}});if(D.data&&D.data.content&&D.data.content.dataType==="moveObject"){const p=D.data.content.fields;u={name:p.name||"",lastname:p.lastname||"",website:p.website||"",about:p.about||""}}}}const E=new I;E.moveCall({arguments:[E.object(i),E.pure.string(o)],target:`${a}::list::get_links`});const R=await t.devInspectTransactionBlock({transactionBlock:E,sender:s.address});if(R.results&&R.results[0]&&R.results[0].returnValues){const g=R.results[0].returnValues;if(g&&g[0]){const[N]=g[0];try{const T=b.struct("SocialLink",{sitename:b.string(),siteurl:b.string(),description:b.string(),iconurl:b.string()});v=b.vector(T).parse(new Uint8Array(N)).map(p=>({sitename:p.sitename,siteurl:p.siteurl,description:p.description,iconurl:p.iconurl}))}catch(T){console.log("No social links found or parse error:",T)}}}const z=new I;z.moveCall({arguments:[z.object(d),z.pure.string(o)],target:`${a}::nft_list::get_nfts`});const C=await t.devInspectTransactionBlock({transactionBlock:z,sender:s.address});if(C.results&&C.results[0]&&C.results[0].returnValues){const g=C.results[0].returnValues;if(g&&g[0]){const[N]=g[0];try{const T=b.struct("NFTItem",{nft_url:b.string(),title:b.string(),description:b.string()});k=b.vector(T).parse(new Uint8Array(N)).map(p=>({nft_url:p.nft_url,title:p.title,description:p.description}))}catch(T){console.log("No NFTs found or parse error:",T)}}}return c(!1),{profile:u,links:v,nfts:k}}catch(u){const v=u.message||"Failed to fetch profile";throw f(v),c(!1),new Error(v)}},loading:l,error:r}}function F({children:a,style:n,className:i=""}){return e.jsxs("div",{className:`card ${i}`,style:{position:"relative",backgroundColor:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(20px) saturate(200%)",WebkitBackdropFilter:"blur(20px) saturate(200%)",borderRadius:"var(--radius-m)",padding:"var(--spacing-xl)",border:"1px solid rgba(255, 255, 255, 0.4)",boxShadow:`
          0 8px 32px 0 rgba(104, 184, 215, 0.2),
          inset 0 1px 0 0 rgba(255, 255, 255, 0.3),
          0 4px 16px 0 rgba(255, 255, 255, 0.1)
        `,overflow:"hidden",...n},children:[e.jsx("div",{style:{position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:"linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.3) 50%, transparent 70%)",pointerEvents:"none",opacity:.6,transform:"rotate(45deg)"}}),e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,height:"50%",background:"linear-gradient(180deg, rgba(255, 255, 255, 0.4) 0%, transparent 100%)",pointerEvents:"none"}}),e.jsx("div",{style:{position:"relative",zIndex:1},children:a}),e.jsx("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"40%",background:"linear-gradient(to top, rgba(104, 184, 215, 0.15) 0%, transparent 100%)",pointerEvents:"none"}})]})}function ye(){const{username:a}=$(),{fetchProfile:n,loading:i,error:d}=me(),[t,s]=m.useState(null);return m.useEffect(()=>{(async()=>{if(a)try{const c=await n(a);s(c)}catch(c){console.error("Error fetching profile:",c)}})()},[a,n]),i?e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:e.jsx("p",{style:{fontSize:"var(--font-size-body)",color:"var(--color-text-secondary)",fontFamily:"var(--font-family-body)"},children:"Loading profile..."})}):d?e.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"var(--spacing-m)",minHeight:"50vh",justifyContent:"center"},children:e.jsx(F,{children:e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("p",{style:{color:"var(--color-error)",fontSize:"var(--font-size-body)",fontFamily:"var(--font-family-body)",marginBottom:"var(--spacing-m)"},children:["❌ ",d]}),e.jsx(S,{to:"/",style:{color:"var(--color-brand-primary)",textDecoration:"none"},children:"← Back to Home"})]})})}):t?e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-xl)"},children:[e.jsx("div",{style:{marginBottom:"var(--spacing-m)"},children:e.jsx(S,{to:"/",style:{color:"var(--color-brand-primary)",textDecoration:"none",fontSize:"var(--font-size-body)",fontFamily:"var(--font-family-body)"},children:"← Back to Home"})}),t.profile&&e.jsx(F,{children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-m)"},children:[e.jsxs("h2",{style:{fontSize:"28px",fontWeight:"var(--font-weight-bold)",fontFamily:"var(--font-family-heading)",color:"var(--color-text-primary)"},children:[t.profile.name," ",t.profile.lastname]}),t.profile.website&&e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"var(--font-size-small)",fontWeight:"var(--font-weight-medium)",color:"var(--color-text-secondary)",marginBottom:"4px",fontFamily:"var(--font-family-body)"},children:"Website"}),e.jsx("a",{href:t.profile.website,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-brand-primary)",fontSize:"var(--font-size-body)",fontFamily:"var(--font-family-body)"},children:t.profile.website})]}),t.profile.about&&e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"var(--font-size-small)",fontWeight:"var(--font-weight-medium)",color:"var(--color-text-secondary)",marginBottom:"4px",fontFamily:"var(--font-family-body)"},children:"About"}),e.jsx("p",{style:{fontSize:"var(--font-size-body)",lineHeight:"1.6",color:"var(--color-text-primary)",fontFamily:"var(--font-family-body)"},children:t.profile.about})]}),e.jsxs("p",{style:{fontSize:"var(--font-size-small)",color:"var(--color-text-muted)",fontFamily:"var(--font-family-body)"},children:["🔗 trwal.app/",a]})]})}),t.links.length>0&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-m)"},children:[e.jsxs("h3",{style:{fontSize:"20px",fontWeight:"var(--font-weight-bold)",fontFamily:"var(--font-family-heading)",color:"var(--color-text-primary)"},children:["Social Links (",t.links.length,")"]}),t.links.map((l,c)=>e.jsx(F,{children:e.jsxs("div",{style:{display:"flex",gap:"var(--spacing-m)",alignItems:"flex-start"},children:[l.iconurl&&e.jsx("img",{src:l.iconurl,alt:l.sitename,style:{width:"40px",height:"40px",objectFit:"contain",flexShrink:0},onError:r=>{r.target.style.display="none"}}),e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"var(--spacing-xs)"},children:[e.jsx("h4",{style:{fontSize:"18px",fontWeight:"var(--font-weight-medium)",fontFamily:"var(--font-family-body)",color:"var(--color-text-primary)"},children:l.sitename}),l.description&&e.jsx("p",{style:{fontSize:"var(--font-size-body)",color:"var(--color-text-secondary)",fontFamily:"var(--font-family-body)"},children:l.description}),e.jsxs("a",{href:l.siteurl,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--color-brand-primary)",fontSize:"var(--font-size-body)",fontFamily:"var(--font-family-body)"},children:[l.siteurl," →"]})]})]})},c))]}),t.nfts.length>0&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-m)"},children:[e.jsxs("h3",{style:{fontSize:"20px",fontWeight:"var(--font-weight-bold)",fontFamily:"var(--font-family-heading)",color:"var(--color-text-primary)"},children:["NFT Collection (",t.nfts.length,")"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"var(--spacing-m)"},children:t.nfts.map((l,c)=>e.jsx(F,{children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-s)"},children:[l.nft_url&&e.jsx("div",{style:{width:"100%",height:"200px",backgroundColor:"var(--color-background-base)",borderRadius:"var(--radius-m)",overflow:"hidden"},children:e.jsx("img",{src:l.nft_url,alt:l.title,style:{width:"100%",height:"100%",objectFit:"cover"},onError:r=>{r.target.style.display="none"}})}),e.jsx("h4",{style:{fontSize:"18px",fontWeight:"var(--font-weight-medium)",fontFamily:"var(--font-family-body)",color:"var(--color-text-primary)"},children:l.title}),l.description&&e.jsx("p",{style:{fontSize:"var(--font-size-body)",color:"var(--color-text-secondary)",fontFamily:"var(--font-family-body)"},children:l.description})]})},c))})]}),!t.profile&&t.links.length===0&&t.nfts.length===0&&e.jsx(F,{children:e.jsx("p",{style:{textAlign:"center",color:"var(--color-text-secondary)",fontFamily:"var(--font-family-body)"},children:"No profile data found for this username"})})]}):null}const _="http://localhost:3001";function O(){const{mutateAsync:a}=J(),n=P(),i=B(),[d,t]=m.useState(!1);return{executeSponsoredTransaction:async(l,c)=>{if(!n){console.error("❌ No wallet connected"),c?.onError&&c.onError(new Error("No wallet connected"));return}t(!0),console.log("💰 Starting Enoki sponsored transaction...");try{console.log("📝 Step 1: Building transaction bytes..."),console.log("Current Account:",n);const r=await l.build({client:i,onlyTransactionKind:!0}),f=btoa(String.fromCharCode(...Array.from(r)));console.log("Transaction bytes length:",r.length);const y=n.zkLoginJwt||n.jwt||n.session?.jwt||n.metadata?.jwt||void 0;console.log("zkLogin JWT found:",y?"Yes ✅":"No ❌"),console.log("JWT preview:",y?y.substring(0,50)+"...":"N/A");const o={transactionBlockKindBytes:f,sender:n.address};y&&(o.zkLoginJwt=y),console.log("Payload to backend:",{transactionBlockKindBytes:o.transactionBlockKindBytes.substring(0,50)+"...",sender:o.sender,zkLoginJwt:o.zkLoginJwt?"Present ✅":"Missing ❌"}),console.log("📝 Step 2: Requesting sponsorship from backend..."),console.log("Backend URL:",_);const u=await fetch(`${_}/api/sponsor-transaction`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!u.ok){const g=await u.json();throw new Error(g.error||"Failed to sponsor transaction")}const v=await u.json();console.log("✅ Step 2 Complete: Transaction sponsored"),console.log("Transaction Digest:",v.digest),console.log("Sponsor Data:",v),console.log("📝 Step 3: Signing transaction bytes with user wallet...");const k=Uint8Array.from(atob(v.bytes),g=>g.charCodeAt(0)),x=I.from(k);console.log("Transaction bytes length:",k.length),console.log("Requesting user signature from wallet...");const h=await a({transaction:x});console.log("✅ User signature obtained!"),console.log("Signature:",h.signature.substring(0,50)+"..."),console.log("📝 Step 4: Sending signature to backend for sponsor execution...");const E={digest:v.digest,signature:h.signature},R=n.zkLoginJwt||n.jwt||void 0;R&&(E.zkLoginJwt=R);const z=await fetch(`${_}/api/execute-sponsored-transaction`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(!z.ok){const g=await z.json();throw console.error("❌ Execute sponsored transaction failed:",g),new Error(g.error||"Failed to execute sponsored transaction")}const C=await z.json();return console.log("✅ Step 4 Complete: Sponsored transaction executed!"),console.log("💰 Gas fees SPONSORED by Enoki!"),console.log("Transaction digest:",C.digest),t(!1),c?.onSuccess&&c.onSuccess(C),C}catch(r){throw console.error("❌ Sponsored transaction failed:",r),t(!1),c?.onError&&c.onError(r),r}},isExecuting:d}}function j({label:a,error:n,style:i,...d}){return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-xs)"},children:[a&&e.jsx("label",{style:{fontSize:"var(--font-size-small)",fontWeight:"var(--font-weight-medium)",color:"var(--color-text-primary)",fontFamily:"var(--font-family-body)"},children:a}),e.jsx("input",{style:{padding:"var(--spacing-s) var(--spacing-m)",borderRadius:"var(--radius-s)",border:`var(--border-width-none) solid ${n?"var(--color-error)":"var(--color-border)"}`,fontSize:"var(--font-size-body)",backgroundColor:"var(--color-surface)",color:"var(--color-text-primary)",outline:"none",transition:"border-color var(--transition-base)",fontFamily:"var(--font-family-body)",...i},...d}),n&&e.jsx("span",{style:{fontSize:"var(--font-size-small)",color:"var(--color-error)",fontFamily:"var(--font-family-body)"},children:n})]})}function U({label:a,error:n,style:i,...d}){return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-xs)"},children:[a&&e.jsx("label",{style:{fontSize:"var(--font-size-small)",fontWeight:"var(--font-weight-medium)",color:"var(--color-text-primary)",fontFamily:"var(--font-family-body)"},children:a}),e.jsx("textarea",{style:{padding:"var(--spacing-s) var(--spacing-m)",borderRadius:"var(--radius-s)",border:`var(--border-width-none) solid ${n?"var(--color-error)":"var(--color-border)"}`,fontSize:"var(--font-size-body)",backgroundColor:"var(--color-surface)",color:"var(--color-text-primary)",outline:"none",transition:"border-color var(--transition-base)",resize:"vertical",fontFamily:"var(--font-family-body)",...i},...d}),n&&e.jsx("span",{style:{fontSize:"var(--font-size-small)",color:"var(--color-error)",fontFamily:"var(--font-family-body)"},children:n})]})}function ve(){const a=w("suilinkPackageId"),n=w("registryId"),i=B(),{executeSponsoredTransaction:d}=O(),[t,s]=m.useState(!1),[l,c]=m.useState(!1),[r,f]=m.useState({username:"",name:"",lastname:"",website:"",about:""}),y=()=>{s(!0),c(!1);const o=new I;o.moveCall({arguments:[o.pure.string(r.name),o.pure.string(r.lastname),o.pure.string(r.website),o.pure.string(r.about)],target:`${a}::about::create`}),d(o,{onSuccess:u=>{i.waitForTransaction({digest:u.digest,options:{showEffects:!0,showObjectChanges:!0}}).then(async v=>{const k=v.effects?.created?.[0]?.reference?.objectId;if(k&&(console.log("✅ About Object Created:",k),r.username)){const x=new I;x.moveCall({arguments:[x.object(n),x.pure.string(r.username),x.pure.id(k)],target:`${a}::registry::register`}),d(x,{onSuccess:h=>{i.waitForTransaction({digest:h.digest}).then(()=>{console.log(`✅ Profile created: athlifi.com/${r.username}`),c(!0),s(!1),f({username:"",name:"",lastname:"",website:"",about:""})})},onError:h=>{console.error("❌ Registration failed:",h),s(!1)}})}})},onError:u=>{console.error("Transaction failed:",u),s(!1)}})};return e.jsx(F,{children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-xl)"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"24px",fontWeight:"var(--font-weight-bold)",fontFamily:"var(--font-family-heading)",marginBottom:"var(--spacing-xs)",color:"var(--color-text-primary)"},children:"Create Your Athlete Profile"}),e.jsx("p",{style:{fontSize:"var(--font-size-body)",color:"var(--color-text-secondary)",fontFamily:"var(--font-family-body)"},children:"Set up your AthliFi profile to connect with your supporters"})]}),l&&e.jsx("div",{style:{padding:"var(--spacing-m)",borderRadius:"var(--radius-m)",backgroundColor:"rgba(16, 149, 236, 0.15)",border:"var(--border-width-none) solid var(--color-brand-primary)"},children:e.jsxs("p",{style:{color:"var(--color-brand-primary)",fontWeight:"var(--font-weight-medium)",fontFamily:"var(--font-family-body)"},children:["✓ Profile created successfully! Your URL: athlifi.com/",r.username||"your-username"]})}),e.jsx(j,{label:"Username (Your AthliFi URL)",placeholder:"usain-bolt",value:r.username,onChange:o=>f({...r,username:o.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")}),disabled:t}),r.username&&e.jsxs("p",{style:{fontSize:"var(--font-size-small)",color:"var(--color-brand-primary)",marginTop:"-12px",fontFamily:"var(--font-family-body)"},children:["Your URL: athlifi.com/",r.username]}),e.jsx(j,{label:"First Name",placeholder:"Usain",value:r.name,onChange:o=>f({...r,name:o.target.value}),disabled:t}),e.jsx(j,{label:"Last Name",placeholder:"Bolt",value:r.lastname,onChange:o=>f({...r,lastname:o.target.value}),disabled:t}),e.jsx(j,{label:"Website (Optional)",placeholder:"https://example.com",value:r.website,onChange:o=>f({...r,website:o.target.value}),disabled:t}),e.jsx(U,{label:"About",placeholder:"Tell your supporters about your athletic journey...",value:r.about,onChange:o=>f({...r,about:o.target.value}),disabled:t,rows:4}),e.jsx(L,{onClick:y,disabled:t||!r.username||!r.name||!r.lastname,loading:t,variant:"accent",children:"Create Profile"})]})})}function xe(){return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-m)"},children:[e.jsx("div",{children:e.jsx(S,{to:"/",style:{color:"var(--color-brand-primary)",textDecoration:"none",fontSize:"var(--font-size-body)",fontFamily:"var(--font-family-body)"},children:"← Back to Home"})}),e.jsx(ve,{})]})}function he(){const a=w("suilinkPackageId"),n=w("listRegistryId"),i=B(),{executeSponsoredTransaction:d}=O(),[t,s]=m.useState(!1),[l,c]=m.useState(!1),[r,f]=m.useState({username:"",sitename:"",siteurl:"",description:"",iconurl:""}),y=()=>{s(!0),c(!1);const o=new I;o.moveCall({arguments:[o.object(n),o.pure.string(r.username),o.pure.string(r.sitename),o.pure.string(r.siteurl),o.pure.string(r.description),o.pure.string(r.iconurl)],target:`${a}::list::add_link`}),d(o,{onSuccess:u=>{i.waitForTransaction({digest:u.digest,options:{showEffects:!0}}).then(()=>{console.log("✅ Social link added successfully!"),c(!0),s(!1),f({username:r.username,sitename:"",siteurl:"",description:"",iconurl:""})})},onError:u=>{console.error("❌ Failed to add link:",u),s(!1)}})};return e.jsx(F,{children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-m)"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"24px",fontWeight:"var(--font-weight-bold)",fontFamily:"var(--font-family-heading)",marginBottom:"var(--spacing-xs)",color:"var(--color-text-primary)"},children:"Add Social Link"}),e.jsx("p",{style:{fontSize:"var(--font-size-body)",color:"var(--color-text-secondary)",fontFamily:"var(--font-family-body)"},children:"Add social media links to your athlete profile"})]}),l&&e.jsx("div",{style:{padding:"var(--spacing-m)",borderRadius:"var(--radius-m)",backgroundColor:"rgba(16, 149, 236, 0.15)",border:"var(--border-width-none) solid var(--color-brand-primary)"},children:e.jsx("p",{style:{color:"var(--color-brand-primary)",fontWeight:"var(--font-weight-medium)",fontFamily:"var(--font-family-body)"},children:"✓ Social link added successfully!"})}),e.jsx(j,{label:"Username",placeholder:"your-username",value:r.username,onChange:o=>f({...r,username:o.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")}),disabled:t}),e.jsx(j,{label:"Site Name",placeholder:"Twitter",value:r.sitename,onChange:o=>f({...r,sitename:o.target.value}),disabled:t}),e.jsx(j,{label:"Site URL",placeholder:"https://twitter.com/username",value:r.siteurl,onChange:o=>f({...r,siteurl:o.target.value}),disabled:t}),e.jsx(U,{label:"Description (Optional)",placeholder:"Follow me on Twitter",value:r.description,onChange:o=>f({...r,description:o.target.value}),disabled:t,rows:2}),e.jsx(j,{label:"Icon URL (Optional)",placeholder:"https://example.com/twitter-icon.png",value:r.iconurl,onChange:o=>f({...r,iconurl:o.target.value}),disabled:t}),e.jsx(L,{onClick:y,disabled:t||!r.username||!r.sitename||!r.siteurl,loading:t,variant:"accent",children:"Add Social Link"})]})})}function be(){const a=w("suilinkPackageId"),n=w("nftRegistryId"),i=B(),{executeSponsoredTransaction:d}=O(),[t,s]=m.useState(!1),[l,c]=m.useState(!1),[r,f]=m.useState({username:"",nft_url:"",title:"",description:""}),y=()=>{s(!0),c(!1);const o=new I;o.moveCall({arguments:[o.object(n),o.pure.string(r.username),o.pure.string(r.nft_url),o.pure.string(r.title),o.pure.string(r.description)],target:`${a}::nft_list::add_nft`}),d(o,{onSuccess:u=>{i.waitForTransaction({digest:u.digest,options:{showEffects:!0}}).then(()=>{console.log("✅ NFT added successfully!"),c(!0),s(!1),f({username:r.username,nft_url:"",title:"",description:""})})},onError:u=>{console.error("❌ Failed to add NFT:",u),s(!1)}})};return e.jsx(F,{children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-m)"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"24px",fontWeight:"var(--font-weight-bold)",fontFamily:"var(--font-family-heading)",marginBottom:"var(--spacing-xs)",color:"var(--color-text-primary)"},children:"Add NFT to Gallery"}),e.jsx("p",{style:{fontSize:"var(--font-size-body)",color:"var(--color-text-secondary)",fontFamily:"var(--font-family-body)"},children:"Add NFTs to your athlete profile gallery"})]}),l&&e.jsx("div",{style:{padding:"var(--spacing-m)",borderRadius:"var(--radius-m)",backgroundColor:"rgba(16, 149, 236, 0.15)",border:"var(--border-width-none) solid var(--color-brand-primary)"},children:e.jsx("p",{style:{color:"var(--color-brand-primary)",fontWeight:"var(--font-weight-medium)",fontFamily:"var(--font-family-body)"},children:"✓ NFT added successfully!"})}),e.jsx(j,{label:"Username",placeholder:"your-username",value:r.username,onChange:o=>f({...r,username:o.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")}),disabled:t}),e.jsx(j,{label:"NFT Title",placeholder:"My Amazing NFT",value:r.title,onChange:o=>f({...r,title:o.target.value}),disabled:t}),e.jsx(j,{label:"NFT URL",placeholder:"https://example.com/nft/1234",value:r.nft_url,onChange:o=>f({...r,nft_url:o.target.value}),disabled:t}),e.jsx(U,{label:"Description (Optional)",placeholder:"Description of the NFT",value:r.description,onChange:o=>f({...r,description:o.target.value}),disabled:t,rows:3}),e.jsx(L,{onClick:y,disabled:t||!r.username||!r.nft_url||!r.title,loading:t,variant:"accent",children:"Add NFT"})]})})}function je(){return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-xxl)"},children:[e.jsx("div",{children:e.jsx(S,{to:"/",style:{color:"var(--color-brand-primary)",textDecoration:"none",fontSize:"var(--font-size-body)",fontFamily:"var(--font-family-body)"},children:"← Back to Home"})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-xxl)"},children:[e.jsx(he,{}),e.jsx(be,{})]})]})}function we(){return e.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"60vh",gap:"var(--spacing-xl)"},children:e.jsx(F,{children:e.jsxs("div",{style:{textAlign:"center",padding:"var(--spacing-xl)"},children:[e.jsx("h1",{style:{fontSize:"48px",fontWeight:"var(--font-weight-bold)",fontFamily:"var(--font-family-heading)",color:"var(--color-text-primary)",marginBottom:"var(--spacing-m)"},children:"404"}),e.jsx("p",{style:{fontSize:"var(--font-size-body)",color:"var(--color-text-secondary)",fontFamily:"var(--font-family-body)",marginBottom:"var(--spacing-xl)"},children:"Profile not found. This athlete doesn't exist yet."}),e.jsx(S,{to:"/",children:e.jsx("button",{style:{padding:"var(--spacing-m) var(--spacing-l)",backgroundColor:"var(--color-brand-primary)",color:"white",border:"none",borderRadius:"var(--radius-m)",fontSize:"var(--font-size-body)",fontFamily:"var(--font-family-body)",fontWeight:"var(--font-weight-medium)",cursor:"pointer"},children:"Go Home"})})]})})})}function H({children:a}){return P()?e.jsx(e.Fragment,{children:a}):e.jsx(M,{to:"/",replace:!0})}function Se(){return e.jsxs("div",{style:{minHeight:"100vh",position:"relative"},children:[e.jsx(se,{}),e.jsx("main",{style:{maxWidth:"800px",margin:"0 auto",padding:"var(--spacing-xxl) var(--spacing-xl)",position:"relative",zIndex:1},children:e.jsxs(Y,{children:[e.jsx(A,{path:"/",element:e.jsx(le,{})}),e.jsx(A,{path:"/:username",element:e.jsx(ye,{})}),e.jsx(A,{path:"/create",element:e.jsx(H,{children:e.jsx(xe,{})})}),e.jsx(A,{path:"/dashboard",element:e.jsx(H,{children:e.jsx(je,{})})}),e.jsx(A,{path:"*",element:e.jsx(we,{})})]})})]})}const ke=new ae;function Fe(){const{client:a,network:n}=oe();return m.useEffect(()=>{const i="enoki_public_9e02d6ce14c6c38c00f4faaddaad379c",d="989645441623-54j99gj548febdd95mvef9limf3ct4of.apps.googleusercontent.com";try{const{unregister:t}=ne({apiKey:i,providers:{google:{clientId:d}},client:a,network:n});return console.log("✅ Enoki wallets registered successfully with Google OAuth!"),console.log("🔑 Google Client ID configured"),t}catch(t){console.error("❌ Failed to register Enoki wallets:",t)}},[a,n]),null}q.createRoot(document.getElementById("root")).render(e.jsx(Q.StrictMode,{children:e.jsx(X,{appearance:"light",children:e.jsx(Z,{client:ke,children:e.jsxs(ee,{networks:pe,defaultNetwork:"testnet",children:[e.jsx(Fe,{}),e.jsx(te,{autoConnect:!0,children:e.jsx(re,{children:e.jsx(Se,{})})})]})})})}));
